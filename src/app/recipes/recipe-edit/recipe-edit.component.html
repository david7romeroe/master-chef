<div class="row">
    <div class="col-sm-12">
        <form [formGroup]="recipeForm" (ngSubmit)="onSubmit()">
            <div class="form-group row">
                <div class="col-sm-6 text-center">

                    <button class="btn btn-success" 
                    [disabled]="!recipeForm.valid">Save</button>
                </div>
                <div class="col-sm-6 text-center">
                    <button class="btn btn-danger" type="button" (click)="onCancel()">Cancel</button>
                </div>

            </div>

            <div class="form-group row">
                <label for="name" class="col-form-label col-sm-3">Name</label>
                <input type="text" id="name" class="form-control col-sm-9" formControlName="name" >
            </div>
            <div class="form-group row">
                <label for="imgPath" class="col-form-label col-sm-3">URL</label>
                <input type="text" id="imgPath" class="form-control col-sm-9" #imagePath formControlName="imagePath" >
            </div>
            <div class="form-group row">
                <img [src]="imagePath.value" alt="" class="img-responsive">
            </div>
            <div class="form-group row">
                <label for="description" class="col-form-label col-sm-3">Description</label>
                <textarea type="text" id="description" formControlName="description" class="form-control col-sm-9" rows="6"></textarea>
            </div>
            <div class="row form-group" formArrayName="ingredients">
                <div *ngFor="let ingredientCtrl of recipeForm.get('ingredients').controls; let i = index;" [formGroupName]="i">
                    <div class="col-sm-8">
                        <label for="name">Name</label>
                        <input type="text" id="name" class="form-control" name="name"
                        formControlName="name">
                    </div>
                    <div class="col-sm-2">
                        <label for="amount">Amount</label>
                        <input type="number" id="amount" class="form-control" name="amount" min="1" max="100"
                            [pattern]="'^[1-9]+[0-9]*$'"
                            formControlName="amount">
                    </div>
                    <div class="col-sm-2">
                        <button class="btn btn-danger" type="button" (click)="onDeleteIngredients(i)">&times;</button>
                    </div>

                </div>
            </div>
            <hr>
            <div class="row">
                <div class="col-xs-12 text-center">
                    <button class="btn btn-success" type="button" (click)="onAddIngredient()">Add Ingredients</button>
                </div>
            </div>
        </form>
    </div>
</div>